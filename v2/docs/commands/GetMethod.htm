<!DOCTYPE HTML>
<html lang="zh">
<head>
<title>GetMethod - 语法 &amp; 使用 | AutoHotkey v2</title>
<meta name="description" content="The GetMethod function retrieves the implementation function of a method." />
<meta name="ahk:equiv-v1" content="AutoHotkey.htm" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/content.js" type="text/javascript"></script>
<script type="text/javascript">$(function(){0<=window.navigator.userAgent.toLowerCase().indexOf("ucbrowser")&&CaoNiMaDeUc()})</script>
</head>
<body>

 <h1>GetMethod</h1>

 <p>检索方法的实现函数.</p>

<pre class="Syntax">Method := <span class="func">GetMethod</span>(Value <span class="optional">, Name, ParamCount</span>)</pre>
<h2 id="Parameters">参数</h2>
<dl>
  <dt>Value</dt>
  <dd>
    <p>类型: <a href="../objects/Any.htm">Any</a></p>
    <p>除了 ComObject 之外的任何类型的任何值.</p>
  </dd>
  <dt>Name</dt>
  <dd>
    <p>类型: <a href="../Concepts.htm#strings">字符串</a></p>
    <p>要检索的方法的名称.</p>
    <p>Omit this parameter to perform validation on <em>Value</em> itself and return <em>Value</em> if successful.</p>
  </dd>
  <dt>ParamCount</dt>
  <dd>
    <tp>Type: <a href="../Concepts.htm#numbers">Integer</a></tp>
    <p>The number of parameters that would be passed to the method or function. If specified, the method's MinParams, MaxParams and IsVariadic properties may be queried to verify that it can accept this number of parameters. If those properties are not present, the parameter count is not verified.</p>
    <p>This count should not include the implicit <code>this</code> parameter.</p>
    <p>If omitted (or if the parameter count was not verified), a basic check is performed for a Call method to verify that the object is most likely callable.</p>
  </dd>
</dl>

 <h2 id="Return_Value">返回值</h2>
<p>类型: <a href="../objects/Functor.htm">函数对象</a></p>
<p>函数返回包含方法实现的函数对象, or <em>Value</em> itself if <em>Name</em> was omitted.</p>

 <h2 id="Errors">错误</h2>
<p>如果没有找到该方法或在没有调用属性获取器(getter) 的情况下不能被检索到, 则抛出 <a href="../objects/Error.htm#MethodError">MethodError</a>.</p>
<p>If validation is attempted, exceptions may be thrown as a result of querying the method's properties. A <a href="../objects/Error.htm#ValueError">ValueError</a> or <a href="../objects/Error.htm#MethodError">MethodError</a> is thrown if validation fails.</p>

 <h2 id="Remarks">备注</h2>
<p>方法可以通过以下方式来定义:</p>
<ul>
  <li>一个具有 <em>call</em> 访问函数的动态属性. 这包括:
    <ul>
      <li>任何由类中的<a href="../Objects.htm#Custom_Classes_method">方法定义</a>创建的属性.</li>
      <li>通过向 <a href="../objects/Object.htm#DefineProp">DefineProp</a> 传递 <code>{Call: fn}</code> 这样的描述符创建的任何属性, 其中 <em>fn</em> 实现了方法.</li>
      <li>任何预定义/内置的方法.</li>
    </ul>
  </li>
  <li>An own value property of the object or one of its base objects, where the value is a <a href="../objects/Functor.htm">function object</a>.</li>
  <li>一个带有 getter 的动态属性, 它返回一个函数对象. GetMethod 不支持这种情况.</li>
  <li>在 __Call <a href="../Objects.htm#Meta_Functions">元函数</a>中进行处理. 这种方式实现的方法不能被检测到, 甚至可能没有对应的函数对象, 所以不受 GetMethod 的支持.</li>
</ul>
<p>当调用函数对象时, 需要为通常隐藏的 <em>this</em> 参数提供一个值. 例如, <code>Method(Value, Parameters*)</code>.</p>
<p>Although the standard implementation of GetMethod has limitations as described above, if <code>Value.GetMethod(Name)</code> is used instead of <code>GetMethod(Value, Name)</code>, the object <em>Value</em> can define its own implementation of GetMethod.</p>
<p><code>GetMethod(Value, "Call", N)</code> is not the same as <code>GetMethod(Value,, N)</code>, as the Call method takes the function object itself as a parameter, and its usage may otherwise differ from that of <em>Value</em>. For instance, <code>Func.Prototype.Call</code> is a single method which applies to all built-in and user-defined functions, and as such must accept any number of parameters.</p>

<h2 id="Related">相关</h2>
<p><a href="../Objects.htm">Objects</a>, <a href="HasMethod.htm">HasMethod</a>, <a href="HasBase.htm">HasBase</a>, <a href="HasProp.htm">HasProp</a></p>

 <h2 id="Examples">示例</h2>
<div class="ex" id="ExBasic">
<p><a class="ex_number" href="#ExBasic"></a> 检索并报告有关 <a href="../objects/Any.htm#GetMethod">GetMethod 方法</a>的信息.</p>
<pre>
method := GetMethod({}, "GetMethod")  <em>; 这也是一种方法.</em>
MsgBox method.MaxParams  <em>; 接受 2 个参数, 包括 'this'.</em>
MsgBox method = GetMethod  <em>; 在这种情况下, 实际上是同一个对象.</em>
</pre>
</div>

 </body>
</html>