<!DOCTYPE HTML>
<html lang="zh">
<head>
<title>标签 - 语法 &amp; 使用 | AutoHotkey v2</title>
<meta name="description" content="Labels identify a line of code, and can be used as Goto targets or to form subroutines." />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/content.js" type="text/javascript"></script>
<script type="text/javascript">$(function(){0<=window.navigator.userAgent.toLowerCase().indexOf("ucbrowser")&&CaoNiMaDeUc()})</script>
</head>
<body>

<h1>标签</h1>

<h2 id="toc">目录</h2>
<ul>
  <li><a href="#syntax-and-usage">语法和用法</a></li>
  <li><a href="#look-alikes">Look-alikes</a></li>
  <li><a href="#subroutines">子程序</a></li>
  <li><a href="#dynamic-labels">动态标签</a></li>
  <li><a href="#hotkeys-and-hotstrings">热键和热字串</a></li>
  <li><a href="#named-loops">命名的循环</a></li>
  <li><a href="#Functions">函数</a></li>
  <li><a href="#related">相关的</a></li>
</ul>

<h2 id="syntax-and-usage">语法和用法</h2>
<p>标签用来标识代码行, 可以作为 <a href="../commands/Goto.htm">Goto</a> 的目标, 组成<a href="../commands/Gosub.htm">子程序</a>, or to <a href="#named-loops">specify a loop</a> to break out of or continue. A label consist of a name followed by a colon:.</p>
<pre>this_is_a_label:
</pre>
<p>Aside from whitespace and comments, no other code can be written on the same line as a label.</p>
<p><strong>名称:</strong> 标签名不区分大小写, 且可以由除空格, tab, 逗号以及<a href="EscapeChar.htm">转义字符</a>(`) 外的其他字符组成. 然而, 考虑到命名的惯例, 通常最好仅使用字母, 数字和下划线(例如: <em>MyListView</em>, <em>Menu_File_Open</em> 和 <em>outer_loop</em>).</p>
<p><strong>作用域:</strong> 每个函数都有自己的局部标签列表, which can only be used inside the function. 如果局部标签具有与全局标签相同的名称, 则局部标签优先(全局标签不可访问). 局部标签不能与<a href="../commands/Hotkey.htm">热键</a>或<a href="../commands/Hotstring.htm">热字串</a>函数一起使用.</p>
<p><strong>目标:</strong> 标签的目标是下一个可执行的代码行. 可执行代码包含函数, 赋值, <a href="../Variables.htm#Expressions">表达式</a>和<a href="../commands/Block.htm">区块</a>, 但不包括指令, 标签, 热键或热字串. 在下面的例子中, <code>run_notepad_1</code> 和 <code>run_notepad_2</code> 标签都指向 <code>Run</code> 行:</p>
<pre>run_notepad_1:
run_notepad_2:
    Run "notepad"
    return
</pre>
<p><strong>执行:</strong> 与指令类似, 正常执行到标签时标签会被忽略. 在下面的例子中, 消息框会显示两次: 一次是在执行 <a href="../commands/Gosub.htm">Gosub</a> 的目标子程序时, 再次是在前面的子程序返回后:</p>
<pre>Gosub Label1

Label1:
MsgBox <a href="../Variables.htm#ThisLabel">A_ThisLabel</a>
return</pre>

<h2 id="look-alikes">Look-alikes</h2>
<p>Hotkey and hotkey definitions look similar to labels, but are not labels.</p>
<p><a href="../Hotkeys.htm">Hotkeys</a> consist of a hotkey followed by double-colon.</p>
<pre>^a::</pre>
<p><a href="../Hotstrings.htm">Hotstrings</a> consist of a colon, zero or more <a href="../Hotstrings.htm#Options">options</a>, another colon, an abbreviation and double-colon.</p>
<pre>:*:btw::</pre>

<h2 id="subroutines">子程序</h2>
<p>子程序是一部分代码, 可以对它进行 <em>调用</em> 来执行特定的任务. 子程序的执行从目标标签开始, 一直执行到遇上 <a href="../commands/Return.htm">Return</a> 或 <a href="../commands/Exit.htm">Exit</a>. 由于子程序的结尾决定于流控制, 所以任何标签既作为 Goto 的目标同时也是子程序的开始.</p>
<p class="warning"><strong>Note:</strong> Since execution falls through labels, placing a subroutine and its terminating <code>return</code> in the wrong place can interrupt the flow of the script. It is generally recommended to use <a href="../Functions.htm">functions</a> instead.</p>

<h2 id="dynamic-labels">动态标签</h2>
<p>In some cases a <a href="../Variables.htm">variable</a> can be used in place of a label name. In such cases, the name stored in the variable is used to locate the target label. 但是, 性能会稍微降低, 因为每次都必须 &quot;查找&quot; 目标标签名而不是只在脚本首次加载时查找一次.</p>

<h2 id="named-loops">命名的循环</h2>
<p>标签还可以用来标识循环, 以便用于 <a href="../commands/Continue.htm">Continue</a> 和 <a href="../commands/Break.htm">Break</a> 语句. 这样脚本可以很方便地继续或退出任意数目的内嵌循环.</p>

<h2 id="related">相关</h2>
<p><a href="../Functions.htm">Functions</a>, <a href="../commands/IsLabel.htm">IsLabel</a>, <a href="../Variables.htm#ThisLabel">A_ThisLabel</a>, <a href="../commands/Gosub.htm">Gosub</a>, <a href="../commands/Goto.htm">Goto</a>, <a href="../commands/SetTimer.htm">SetTimer</a>, <a href="../commands/Hotkey.htm">Hotkey</a></p>



</body>
</html>